ServerRoot "/lib/httpd"
PidFile "/var/run/httpd.pid"

#Listen 12.34.56.78:80
Listen 80

##LoadModule authn_file_module /lib/httpd/mod_authn_file.so
#LoadModule authn_dbm_module /lib/httpd/mod_authn_dbm.so
#LoadModule authn_anon_module /lib/httpd/mod_authn_anon.so
#LoadModule authn_dbd_module /lib/httpd/mod_authn_dbd.so
#LoadModule authn_socache_module /lib/httpd/mod_authn_socache.so
##LoadModule authn_core_module /lib/httpd/mod_authn_core.so
##LoadModule authz_host_module /lib/httpd/mod_authz_host.so
##LoadModule authz_groupfile_module /lib/httpd/mod_authz_groupfile.so
##LoadModule authz_user_module /lib/httpd/mod_authz_user.so
#LoadModule authz_dbm_module /lib/httpd/mod_authz_dbm.so
#LoadModule authz_owner_module /lib/httpd/mod_authz_owner.so
#LoadModule authz_dbd_module /lib/httpd/mod_authz_dbd.so
LoadModule authz_core_module /lib/httpd/mod_authz_core.so
##LoadModule access_compat_module /lib/httpd/mod_access_compat.so
##LoadModule auth_basic_module /lib/httpd/mod_auth_basic.so
#LoadModule auth_form_module /lib/httpd/mod_auth_form.so
#LoadModule auth_digest_module /lib/httpd/mod_auth_digest.so
#LoadModule allowmethods_module /lib/httpd/mod_allowmethods.so
#LoadModule file_cache_module /lib/httpd/mod_file_cache.so
#LoadModule cache_module /lib/httpd/mod_cache.so
#LoadModule cache_disk_module /lib/httpd/mod_cache_disk.so
#LoadModule cache_socache_module /lib/httpd/mod_cache_socache.so
#LoadModule socache_shmcb_module /lib/httpd/mod_socache_shmcb.so
#LoadModule socache_dbm_module /lib/httpd/mod_socache_dbm.so
#LoadModule socache_memcache_module /lib/httpd/mod_socache_memcache.so
#LoadModule socache_redis_module /lib/httpd/mod_socache_redis.so
#LoadModule watchdog_module /lib/httpd/mod_watchdog.so
#LoadModule macro_module /lib/httpd/mod_macro.so
#LoadModule dbd_module /lib/httpd/mod_dbd.so
#LoadModule dumpio_module /lib/httpd/mod_dumpio.so
#LoadModule echo_module /lib/httpd/mod_echo.so
#LoadModule buffer_module /lib/httpd/mod_buffer.so
#LoadModule data_module /lib/httpd/mod_data.so
#LoadModule ratelimit_module /lib/httpd/mod_ratelimit.so
##LoadModule reqtimeout_module /lib/httpd/mod_reqtimeout.so
#LoadModule ext_filter_module /lib/httpd/mod_ext_filter.so
#LoadModule request_module /lib/httpd/mod_request.so
#LoadModule include_module /lib/httpd/mod_include.so
##LoadModule filter_module /lib/httpd/mod_filter.so
#LoadModule reflector_module /lib/httpd/mod_reflector.so
#LoadModule substitute_module /lib/httpd/mod_substitute.so
#LoadModule sed_module /lib/httpd/mod_sed.so
#LoadModule charset_lite_module /lib/httpd/mod_charset_lite.so
#LoadModule deflate_module /lib/httpd/mod_deflate.so
##LoadModule mime_module /lib/httpd/mod_mime.so
LoadModule log_config_module /lib/httpd/mod_log_config.so
#LoadModule log_debug_module /lib/httpd/mod_log_debug.so
#LoadModule log_forensic_module /lib/httpd/mod_log_forensic.so
#LoadModule logio_module /lib/httpd/mod_logio.so
##LoadModule env_module /lib/httpd/mod_env.so
#LoadModule mime_magic_module /lib/httpd/mod_mime_magic.so
#LoadModule expires_module /lib/httpd/mod_expires.so
##LoadModule headers_module /lib/httpd/mod_headers.so
#LoadModule usertrack_module /lib/httpd/mod_usertrack.so
#LoadModule unique_id_module /lib/httpd/mod_unique_id.so
##LoadModule setenvif_module /lib/httpd/mod_setenvif.so
##LoadModule version_module /lib/httpd/mod_version.so
#LoadModule remoteip_module /lib/httpd/mod_remoteip.so
LoadModule proxy_module /lib/httpd/mod_proxy.so
#LoadModule proxy_connect_module /lib/httpd/mod_proxy_connect.so
#LoadModule proxy_ftp_module /lib/httpd/mod_proxy_ftp.so
LoadModule proxy_http_module /lib/httpd/mod_proxy_http.so
#LoadModule proxy_fcgi_module /lib/httpd/mod_proxy_fcgi.so
#LoadModule proxy_scgi_module /lib/httpd/mod_proxy_scgi.so
#LoadModule proxy_uwsgi_module /lib/httpd/mod_proxy_uwsgi.so
#LoadModule proxy_fdpass_module /lib/httpd/mod_proxy_fdpass.so
#LoadModule proxy_wstunnel_module /lib/httpd/mod_proxy_wstunnel.so
#LoadModule proxy_ajp_module /lib/httpd/mod_proxy_ajp.so
#LoadModule proxy_balancer_module /lib/httpd/mod_proxy_balancer.so
#LoadModule proxy_express_module /lib/httpd/mod_proxy_express.so
#LoadModule proxy_hcheck_module /lib/httpd/mod_proxy_hcheck.so
#LoadModule session_module /lib/httpd/mod_session.so
#LoadModule session_cookie_module /lib/httpd/mod_session_cookie.so
#LoadModule session_crypto_module /lib/httpd/mod_session_crypto.so
#LoadModule session_dbd_module /lib/httpd/mod_session_dbd.so
#LoadModule slotmem_shm_module /lib/httpd/mod_slotmem_shm.so
#LoadModule slotmem_plain_module /lib/httpd/mod_slotmem_plain.so
#LoadModule ssl_module /lib/httpd/mod_ssl.so
#LoadModule dialup_module /lib/httpd/mod_dialup.so
#LoadModule http2_module /lib/httpd/mod_http2.so
#LoadModule lbmethod_byrequests_module /lib/httpd/mod_lbmethod_byrequests.so
#LoadModule lbmethod_bytraffic_module /lib/httpd/mod_lbmethod_bytraffic.so
#LoadModule lbmethod_bybusyness_module /lib/httpd/mod_lbmethod_bybusyness.so
#LoadModule lbmethod_heartbeat_module /lib/httpd/mod_lbmethod_heartbeat.so
LoadModule unixd_module /lib/httpd/mod_unixd.so
#LoadModule heartbeat_module /lib/httpd/mod_heartbeat.so
#LoadModule heartmonitor_module /lib/httpd/mod_heartmonitor.so
#LoadModule dav_module /lib/httpd/mod_dav.so
##LoadModule status_module /lib/httpd/mod_status.so
##LoadModule autoindex_module /lib/httpd/mod_autoindex.so
#LoadModule asis_module /lib/httpd/mod_asis.so
#LoadModule info_module /lib/httpd/mod_info.so
#LoadModule suexec_module /lib/httpd/mod_suexec.so
#LoadModule cgi_module /lib/httpd/mod_cgi.so
#LoadModule dav_fs_module /lib/httpd/mod_dav_fs.so
#LoadModule dav_lock_module /lib/httpd/mod_dav_lock.so
#LoadModule vhost_alias_module /lib/httpd/mod_vhost_alias.so
#LoadModule negotiation_module /lib/httpd/mod_negotiation.so
LoadModule dir_module /lib/httpd/mod_dir.so
#LoadModule actions_module /lib/httpd/mod_actions.so
#LoadModule speling_module /lib/httpd/mod_speling.so
##LoadModule alias_module /lib/httpd/mod_alias.so
#LoadModule rewrite_module /lib/httpd/mod_rewrite.so
LoadModule php_module /lib/httpd/libphp.so

<IfModule unixd_module>
    User httpd
    Group httpd
</IfModule>

# 'Main' server configuration
#
# The directives in this section set up the values used by the 'main'
# server, which responds to any requests that aren't handled by a
# <VirtualHost> definition.  These values also provide defaults for
# any <VirtualHost> containers you may define later in the file.
#
# All of these directives may appear inside <VirtualHost> containers,
# in which case these default settings will be overridden for the
# virtual host being defined.
#

#
# ServerAdmin: Your address, where problems with the server should be
# e-mailed.  This address appears on some server-generated pages, such
# as error documents.  e.g. admin@your-domain.com
#
ServerAdmin you@example.com

#
# ServerName gives the name and port that the server uses to identify itself.
# This can often be determined automatically, but we recommend you specify
# it explicitly to prevent problems during startup.
#
# If your host doesn't have a registered DNS name, enter its IP address here.
ServerName 192.168.1.1:80

# Deny access to the entirety of your server's filesystem. You must
# explicitly permit access to web content directories in other
# <Directory> blocks below.
<Directory />
    AllowOverride none
    Require all denied
</Directory>

# Note that from this point forward you must specifically allow
# particular features to be enabled - so if something's not working as
# you might expect, make sure that you have specifically enabled it
# below.

# DocumentRoot: The directory out of which you will serve your
# documents. By default, all requests are taken from this directory, but
# symbolic links and aliases may be used to point to other locations.
DocumentRoot "/var/web"
<Directory "/var/web">
    #
    # Possible values for the Options directive are "None", "All",
    # or any combination of:
    #   Indexes Includes FollowSymLinks SymLinksifOwnerMatch ExecCGI MultiViews
    #
    # Note that "MultiViews" must be named *explicitly* --- "Options All"
    # doesn't give it to you.
    #
    # The Options directive is both complicated and important.  Please see
    # http://httpd.apache.org/docs/2.4/mod/core.html#options
    # for more information.
    #
    Options Indexes FollowSymLinks

    #
    # AllowOverride controls what directives may be placed in .htaccess files.
    # It can be "All", "None", or any combination of the keywords:
    #   AllowOverride FileInfo AuthConfig Limit
    #
    AllowOverride None

    #
    # Controls who can get stuff from this server.
    #
    Require all granted
</Directory>

# DirectoryIndex: sets the file that Apache will serve if a directory is requested.
<IfModule dir_module>
    DirectoryIndex index.html index.php
</IfModule>


# The following lines prevent .htaccess and .htpasswd files from being viewed by Web clients.
<Files ".ht*">
    Require all denied
</Files>

# Interprete PHP files
<FilesMatch \.php$>
    SetHandler application/x-httpd-php
</FilesMatch>

# ErrorLog: The location of the error log file.
ErrorLog "/var/log/httpd/current"

# Possible values include: debug, info, notice, warn, error, crit, alert, emerg.
LogLevel warn

<IfModule log_config_module>
    LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
    LogFormat "%h %l %u %t \"%r\" %>s %b" common
    CustomLog "/var/log/httpd/current" combined
</IfModule>

# Enable proxy for Auto-Update server
<IfModule proxy_http_module>
    ProxyPass  "/update" "http://sepia/"
    ProxyPassReverse "/update" "http://sepia/"
</IfModule>


<IfModule cgid_module>
    #
    # ScriptSock: On threaded servers, designate the path to the UNIX
    # socket used to communicate with the CGI daemon of mod_cgid.
    #
    #Scriptsock cgisock
</IfModule>

# "/cgi-bin" should be changed to whatever your ScriptAliased
# CGI directory exists, if you have that configured.
<Directory "/cgi-bin">
    AllowOverride None
    Options None
    Require all granted
</Directory>

<IfModule headers_module>
    #
    # Avoid passing HTTP_PROXY environment to CGI's on this or any proxied
    # backend servers which have lingering "httpoxy" defects.
    # 'Proxy' request header is undefined by the IETF, not listed by IANA
    #
    RequestHeader unset Proxy early
</IfModule>

# Fancy directory listings
#Include /conf/extra/httpd-autoindex.conf

# User home directories
#Include /conf/extra/httpd-userdir.conf

<IfModule ssl_module>
    SSLRandomSeed startup builtin
    SSLRandomSeed connect builtin
</IfModule>

